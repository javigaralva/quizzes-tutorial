{
  "algorithm": {
    "parameters": [],
    "statements": [
      {
        "command": "Execute",
        "expression": "InitRds()"
      },
      {
        "command": "Set",
        "expression": "RdsSelectOne(RdsDefault.TblStudents, studentId, code == \"ST002\")",
        "variableName": "studentId"
      },
      {
        "command": "Set",
        "expression": "RdsSelectOne(RdsDefault.TblCourses, courseId, code == \"CO002\")",
        "variableName": "courseId"
      },
      {
        "command": "Set",
        "expression": "RdsSelectOne(RdsDefault.TblCourses, courseId, code == \"CO003\")",
        "variableName": "otherCourseId"
      },
      {
        "command": "Assert",
        "expression1": "Map(Transform(TrfInscriptionForRead, RdsSelectReader(RdsDefault.TblInscriptions, studentId == ^studentId, courseId)), [studentFullName, courseName])",
        "expression2": "[[\"Andrew Hanrahan\", \"Physical Mathematics I\"]]",
        "operator": "=="
      },
      {
        "command": "Set",
        "expression": "Transform(TrfInscriptionForWrite, { studentId: ^studentId, courseId: ^courseId }, RdsInsertWriter(RdsDefault.TblInscriptions))",
        "variableName": "newInscriptionId"
      },
      {
        "command": "Assert",
        "expression1": "Map(Transform(TrfInscriptionForRead, RdsSelectReader(RdsDefault.TblInscriptions, studentId == ^studentId, courseId)), [studentFullName, courseName])",
        "expression2": "[[\"Andrew Hanrahan\", \"Physical Mathematics I\"], [\"Andrew Hanrahan\", \"Physical Mathematics II\"]]",
        "operator": "=="
      },
      {
        "command": "Execute",
        "expression": "Transform(TrfInscriptionForWrite, { inscriptionId: ^newInscriptionId, studentId: ^studentId, courseId: ^otherCourseId }, RdsUpdateWriter(RdsDefault.TblInscriptions))"
      },
      {
        "command": "Assert",
        "expression1": "Map(Transform(TrfInscriptionForRead, RdsSelectReader(RdsDefault.TblInscriptions, studentId == ^studentId, courseId)), [studentFullName, courseName])",
        "expression2": "[[\"Andrew Hanrahan\", \"Physical Mathematics I\"], [\"Andrew Hanrahan\", \"Scientific Computing\"]]",
        "operator": "=="
      }
    ],
    "typeReturn": "any",
    "variables": [
      {
        "name": "studentId",
        "type": "integer"
      },
      {
        "name": "courseId",
        "type": "integer"
      },
      {
        "name": "otherCourseId",
        "type": "integer"
      },
      {
        "name": "newInscriptionId",
        "type": "integer"
      }
    ]
  }
}